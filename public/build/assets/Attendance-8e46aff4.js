import{_ as H}from"./AuthenticatedLayout-cb5bc9f2.js";import{X as L,P,c as f,d as e,w as t,F as O,r as n,o as _,g as m,t as j,h as x,I as F}from"./app-af2088fa.js";import{_ as N}from"./_plugin-vue_export-helper-c27b6911.js";const B={inject:["validateMessages"],components:{AuthenticatedLayout:H,Head:L},props:{employee:Object,attdata:Object,errors:Object,today:String,month:String},setup(s){const o={labelCol:{span:8},wrapperCol:{span:16}};return{formState:P({employee_id:s.employee.id,checkin:"",checkout:"",notes:"",status:""}),layout:o}},data(){return{drawervisible:!1}},methods:{onSelect(s){this.formState.date=s.$d,this.attdata[s.date()]?(this.formState.checkin=this.attdata[s.date()].checkin,this.formState.checkout=this.attdata[s.date()].checkout,this.formState.notes=this.attdata[s.date()].notes,this.formState.status=this.attdata[s.date()].status):(this.formState.checkin="",this.formState.checkout="",this.formState.notes="",this.formState.status="Absent"),this.showDrawer()},showDrawer(){this.drawervisible=!0},onClose(){this.drawervisible=!1},submit(){this.formState.post(route("attendance.update"))}}},D={key:0},I={key:1};function V(s,o,d,l,p,r){const v=n("Head"),S=n("a-page-header"),y=n("a-affix"),c=n("a-button"),k=n("a-calendar"),b=n("a-layout-content"),h=n("a-time-picker"),i=n("a-form-item"),g=n("a-input"),u=n("a-select-option"),w=n("a-select"),C=n("a-form"),A=n("a-drawer"),U=n("AuthenticatedLayout");return _(),f(O,null,[e(v,{title:"Employees"}),e(U,null,{default:t(()=>[e(y,{"offset-top":0},{default:t(()=>[e(S,{ghost:!1,title:d.employee.name+" Attendance",onBack:o[0]||(o[0]=()=>s.$inertia.visit(s.route("employees.index")))},null,8,["title"])]),_:1}),e(b,null,{default:t(()=>[e(k,{value:s.value,"onUpdate:value":o[1]||(o[1]=a=>s.value=a),onSelect:r.onSelect},{dateCellRender:t(({current:a})=>[d.attdata[a.date()]?(_(),f("div",D,[e(c,{type:d.attdata[a.date()].type,shape:"round",size:"sm"},{default:t(()=>[m(j(d.attdata[a.date()].status),1)]),_:2},1032,["type"])])):a.date()<=d.today&&a.month()+1==d.month?(_(),f("div",I,[e(c,{type:"primary",danger:"",shape:"round",size:"sm"},{default:t(()=>[m(" Absent ")]),_:1})])):x("",!0)]),_:1},8,["value","onSelect"])]),_:1}),e(A,{title:"Update Attendance",placement:"right",closable:!0,visible:p.drawervisible,onClose:r.onClose},{default:t(()=>[e(C,F({model:l.formState},l.layout,{name:"nest-messages","validate-messages":r.validateMessages,onFinish:r.submit}),{default:t(()=>[e(i,{label:"Check In",name:"checkin"},{default:t(()=>[e(h,{format:"hh:mm A",placeholder:"Check In","value-format":"HH:mm:ss",value:l.formState.checkin,"onUpdate:value":o[2]||(o[2]=a=>l.formState.checkin=a)},null,8,["value"])]),_:1}),e(i,{label:"Check Out",name:"checkout"},{default:t(()=>[e(h,{format:"hh:mm A",placeholder:"Check Out","value-format":"HH:mm:ss",value:l.formState.checkout,"onUpdate:value":o[3]||(o[3]=a=>l.formState.checkout=a)},null,8,["value"])]),_:1}),e(i,{label:"Notes",name:"notes"},{default:t(()=>[e(g,{value:l.formState.notes,"onUpdate:value":o[4]||(o[4]=a=>l.formState.notes=a),style:{width:"100%"}},null,8,["value"])]),_:1}),e(i,{label:"Status",name:"notes"},{default:t(()=>[e(w,{value:l.formState.status,"onUpdate:value":o[5]||(o[5]=a=>l.formState.status=a)},{default:t(()=>[e(u,{value:"Present"},{default:t(()=>[m("Present")]),_:1}),e(u,{value:"Absent"},{default:t(()=>[m("Absent")]),_:1}),e(u,{value:"Paid Leave"},{default:t(()=>[m("Paid Leave")]),_:1}),e(u,{value:"Unpaid Leave"},{default:t(()=>[m("Unpaid Leave")]),_:1})]),_:1},8,["value"])]),_:1}),e(i,{"wrapper-col":{span:12,offset:6}},{default:t(()=>[e(c,{type:"primary","html-type":"submit"},{default:t(()=>[m("Save")]),_:1})]),_:1})]),_:1},16,["model","validate-messages","onFinish"])]),_:1},8,["visible","onClose"])]),_:1})],64)}const R=N(B,[["render",V]]);export{R as default};
